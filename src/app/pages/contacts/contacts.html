<div class="contact-container">
  <section class="contact-header">
    <h1 class="page-title">Me Contacter</h1>
    <p class="page-subtitle">
      N'h√©sitez pas √† me contacter pour discuter de vos projets ou opportunit√©s
    </p>
  </section>

  <!-- Info Cards -->
  <section class="contact-info">
    <h2 class="info-title">Mes Coordonn√©es</h2>
    <div class="info-grid">
      <div class="info-card" *ngFor="let info of contactInfo"
           [class.clickable]="info.link"
           (click)="openLink(info.link)">
        <span class="info-icon">
          <fa-icon [icon]="info.icon"></fa-icon>
        </span>
        <div class="info-content">
          <h3 class="info-label">{{ info.label }}</h3>
          <p class="info-value">{{ info.value }}</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Formulaire + Spline -->
  <div class="formulaire-container">
    <div class="form-illustration">

      <!-- üéâ Spline viewer remplace totalement le canvas -->
      <spline-viewer
        url="https://prod.spline.design/t2dxBtZvMIRSDR6o/scene.splinecode"
        class="spline-scene">
      </spline-viewer>

    </div>

    <form class="contact-form" (ngSubmit)="send()" #f="ngForm" novalidate>

      <div class="form-group">
        <label for="name">Nom complet *</label>
        <input type="text" id="name" name="name" [(ngModel)]="formData.name" required #name="ngModel" [class.invalid]="name.invalid && name.touched">
        <p class="error" *ngIf="name.invalid && name.touched">Veuillez entrer votre nom complet.</p>
      </div>

      <div class="form-group">
        <label for="email">Email *</label>
        <input type="email" id="email" name="email" [(ngModel)]="formData.email" required email #email="ngModel" [class.invalid]="email.invalid && email.touched">
        <p class="error" *ngIf="email.invalid && email.touched">Veuillez entrer un email valide.</p>
      </div>

      <div class="form-group">
        <label for="subject">Sujet *</label>
        <input type="text" id="subject" name="subject" [(ngModel)]="formData.subject" required #subject="ngModel" [class.invalid]="subject.invalid && subject.touched">
        <p class="error" *ngIf="subject.invalid && subject.touched">Le sujet est obligatoire.</p>
      </div>

      <div class="form-group">
        <label for="message">Message *</label>
        <textarea id="message" name="message" rows="6" [(ngModel)]="formData.message" required #message="ngModel" [class.invalid]="message.invalid && message.touched"></textarea>
        <p class="error" *ngIf="message.invalid && message.touched">Le message est obligatoire.</p>
      </div>

      <button type="submit" class="submit-btn" [disabled]="!isFormValid() || isSubmitting">
        <span *ngIf="!isSubmitting">Envoyer</span>
        <span *ngIf="isSubmitting">Envoi...</span>
      </button>

      <div class="success-message" *ngIf="submitSuccess">Message envoy√© avec succ√®s.</div>
      <div class="error-message" *ngIf="submitError">Une erreur est survenue. Veuillez r√©essayer.</div>

    </form>
  </div>
</div>
